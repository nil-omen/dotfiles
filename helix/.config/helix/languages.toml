####################
# GO CONFIGURATION #
####################
[[language]]
name = "go"
auto-format = true
# Use goimports to format AND automatically add/remove imports on save
[language.formatter]
command = "goimports"

# FIX: Move gopls config to a language-server block
[language-server.gopls]
command = "gopls"

[language-server.gopls.config]
"ui.semanticTokens" = true

######################
# RUST CONFIGURATION #
######################
[[language]]
name = "rust"
auto-format = true

# FIX: Move rust-analyzer config to a language-server block
[language-server.rust-analyzer]
command = "rust-analyzer"

[language-server.rust-analyzer.config.cargo]
loadOutDirsFromCheck = true

########################
# PYTHON CONFIGURATION #
########################
[[language]]
name = "python"
# Using 'ruff' is highly recommended for speed in DevOps scripts
[language.formatter]
command = "ruff"
args = ["format", "-"]

########################
# DEVOPS / CONFIG FILES #
########################

# YAML (Kubernetes, Ansible, GitHub Actions)
[[language]]
name = "yaml"
auto-format = true

# TOML (Config files, Rust Cargo.toml)
[[language]]
name = "toml"
auto-format = true

# BASH / SHELL (Scripts)
[[language]]
name = "bash"
auto-format = true

###################
# NIX CONFIGURATION
###################
[[language]]
name = "nix"
auto-format = true
formatter = { command = "nixfmt" }

[language-server.nil]
command = "nil"

# Optional: Configuration for NIL
[language-server.nil.config.nil]
formatting = { command = ["nixfmt"] }
