#!/bin/zsh
# gh-create function

if ! command -v git &> /dev/null; then
    echo "Error: git is not installed. Please install git first."
    return 1
fi

if ! command -v gh &> /dev/null; then
    echo "Error: gh (GitHub CLI) is not installed. Please install it first."
    echo "  â†’ https://cli.github.com/"
    return 1
fi

if [[ ! -d .git ]]; then
    echo "Error: Not a git repository. Run 'git init' first."
    return 1
fi

gh repo create --private --source=. --remote=origin && git push -u --all && gh browse "$@"
